<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jacob Horvitz</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
    <header>
        <nav>
            <div class="logo">
                <h1>Jacob Horvitz</h1>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About Me</a></li>
                <li><a href="social.html">Social Media</a></li>
                <li><a href="finance.html">Finance</a></li>
                <li><a href="projects.html">Projects</a></li>
            </ul>
            <div class="burger">
                <i class="fas fa-bars"></i>
            </div>
        </nav>
    </header>

    <section class="live-stock-banner">
        <marquee behavior="scroll" direction="left" scrollamount="5" onmouseover="this.stop();" onmouseout="this.start();">
            <span id="stock-ticker"></span>
        </marquee>
    </section>

    <section class="finance">
        <h2>Finance</h2>
        <p>Check out this. I use <a href="https://finance.yahoo.com/" target="_blank">Yahoo Finance</a> to research stocks and what the market might do from day to day. This site allows me to see a broad analysis of the market to make investing less risky.</p>
    </section>

    <footer>
        <p>&copy; 2024 Jacob Horvitz</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
    <script src="app.js"></script>
    <script>
        // Function to fetch stock data from Yahoo Finance
        function getStockData() {
            $.getJSON("https://query1.finance.yahoo.com/v8/finance/chart/AAPL?symbol=AAPL&interval=1d", function (data) {
                var stockData = data.chart.result[0];
                var symbol = stockData.meta.symbol;
                var price = stockData.meta.regularMarketPrice;
                var change = stockData.meta.regularMarketChange;
                var changePercent = stockData.meta.regularMarketChangePercent;
                var direction = change > 0 ? "▲" : "▼";
                var color = change > 0 ? "green" : "red";

                $("#stock-ticker").html("<strong>" + symbol + ": $" + price.toFixed(2) + " " + direction + " $" + Math.abs(change).toFixed(2) + " (" + changePercent.toFixed(2) + "%)</strong>");
            });
        }

        // Fetch stock data every 30 seconds
        setInterval(getStockData, 30000);

        // Initial fetch
        getStockData();
    </script>
</body>

</html>
